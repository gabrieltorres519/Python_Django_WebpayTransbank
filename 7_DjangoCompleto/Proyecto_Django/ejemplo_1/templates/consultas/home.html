{% extends "../layout/frontend.html" %} 
{% load static%}
{% block titlegabriel %} Consultas {% endblock %}

{% block content %}

  <main class="container">

    <div class="row">
      <h2> Consultas </h2>
      </br>
      <ul>
        {% for categoria in categorias %}

        <li>
          <a href="{% url "consultas_productos_por_categoria" categoria.slug %}"> {{categoria.nombre}} </a>
        </li> 

        {% endfor %}
      </ul>
      <hr/>
      <h3> Listado de productos ( {{numeros}} ) </h3>
      <table class="table table-bordered"> 
        <thead>
          <tr>
            <th> ID </th>
            <th>Categoría</th>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Precio</th>
            <th>Foto</th>
            <th>Acciones</th>
          </tr>
        </thead>
        {% for dato in datos %}
          <tr>
            <td>{{dato.id}}</td>
            <td>{{dato.categoria.nombre}}</td>
            <td>{{dato.nombre}}</td>
            <td>{{dato.descripcion|safe}}</td>
            <td>${{dato.precio}}</td>
            <td>
              <img src="{% static "upload/producto/" %}{{dato.foto}}  " width="100" height="100" />
            </td>
            <td>
              <a href="{% url 'consultas_productos_detalle' dato.id dato.slug %}" title='{{dato.nombre}}'> Detalle </a>
            </td> 
          </tr>
        {% endfor %}
      </table>
      <div>
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            {% if datos.has_previous %}
            <li class="page-item"><a class="page-link" href="?page=1" title="Primera página">&laquo;&laquo;&laquo;&laquo;</a></li>
            <li class="page-item"><a lass="page-link" href="?page={{datos.previous_page_number}}" title="Página anterior" >&laquo;&laquo;</a></li>
            {% endif %}

            <li class="page-item"><a class="page-link" href="#">1</a></li>

            {% if datos.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{datos.next_page_number}}" title="Página siguiente" >&raquo;&raquo;</a></li>
            <li class="page-item"><a class="page-link" href="?page={{datos.next_page_number}}" title="Última página">&raquo;&raquo;&raquo;&raquo;</a></li>
            {% endif %}
          
          </ul>
        </nav>
      </div>
    </div>

  </main><!-- /.container -->

{% endblock  %}

